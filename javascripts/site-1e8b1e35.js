"use strict";function getLocation(t){navigator.geolocation.getCurrentPosition(function(n){recenterMap(n,t)})}function recenterMap(t,n){var o=t.coords.latitude,e=t.coords.longitude;n.setCenter(new google.maps.LatLng(o,e))}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var initMap=function(){var t=document.getElementById("map"),n={lat:40.680726,lng:-73.981267},o={center:n,scrollwheel:!1,mapTypeControl:!1,zoom:15},e=new google.maps.Map(t,o);getLocation(e)},_createClass=function(){function t(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,o,e){return o&&t(n.prototype,o),e&&t(n,e),n}}(),Form=function(){function t(n){_classCallCheck(this,t),this.$form=n,this.attachHandler()}return _createClass(t,[{key:"attachHandler",value:function(){var t=this;this.$form.submit(function(n){n.preventDefault(),t.submitForm()})}},{key:"submitForm",value:function(){var t={destination:this.$form.find("#destination").val(),startingPoint:this.$form.find("#starting-point").val()};t.destination&&t.startingPoint||alert("enter shit, dumbass"),$.ajax({url:"https://infinite-ridge-11745.herokuapp.com/geocode",method:"POST",data:JSON.stringify(t),dataType:"json"}).done(this.calculateCoords).fail(function(t){console.error(t)})}},{key:"calculateCoords",value:function(t){console.log(t);[{lat:t.destinationCoords.lat,lng:t.startingCoords.lng},{lat:t.startingCoords.lat,lng:t.destinationCoords.lng},t.startingCoords,t.destinationCoords]}},{key:"findRelevantCrimes",value:function(t){t.map(function(){})}}]),t}();$(document).ready(function(){$("#sidebar").find("form").each(function(){new Form($(this))})});